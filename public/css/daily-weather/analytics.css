/* ==================== DAILY WEATHER - ANALYTICS COMPONENTS ==================== */

/* Analytics Controls */
.analytics-controls {
    display: flex;
    gap: 16px;
    align-items: flex-end;
    flex-wrap: wrap;
    padding: var(--dw-card-padding);
    background: var(--fluent-bg-primary);
    border-radius: var(--dw-card-radius);
    box-shadow: var(--dw-card-shadow);
    margin-bottom: 24px;
}

.view-toggle {
    display: flex;
    background: var(--fluent-gray-20);
    border-radius: var(--fluent-radius-md);
    padding: 4px;
}

.view-btn {
    padding: 8px 16px;
    border: none;
    background: transparent;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    color: var(--fluent-text-secondary);
    border-radius: var(--fluent-radius-sm);
    transition: var(--dw-transition-normal);
}

.view-btn:hover { background: var(--fluent-gray-30); }
.view-btn.active { background: var(--fluent-primary); color: white; }

.date-controls, .decade-range-controls {
    display: flex;
    gap: 8px;
    align-items: center;
}

.decade-range-controls .range-separator {
    font-size: 13px;
    color: var(--fluent-text-secondary);
    font-weight: 500;
}

/* Stats Row */
.stats-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
}

.stat-card {
    background: var(--fluent-bg-primary);
    border-radius: var(--dw-card-radius);
    padding: var(--dw-card-padding);
    box-shadow: var(--dw-card-shadow);
    display: flex;
    align-items: center;
    gap: 16px;
}

.stat-icon {
    width: 48px;
    height: 48px;
    border-radius: var(--fluent-radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    color: white;
}

.stat-icon.temp { background: var(--dw-gradient-high); }
.stat-icon.rain { background: var(--dw-gradient-low); }
.stat-icon.sun { background: linear-gradient(135deg, #FFB900, #FF8C00); }
.stat-icon.humidity { background: linear-gradient(135deg, #00B294, #038387); }

.stat-info h4 { font-size: 12px; color: var(--fluent-text-secondary); margin: 0 0 4px; text-transform: uppercase; }
.stat-value { font-size: 24px; font-weight: 700; color: var(--fluent-text-primary); }
.stat-value span { font-size: 14px; font-weight: 400; opacity: 0.7; }

/* Charts Container */
.charts-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 24px;
    margin-bottom: 24px;
}

.chart-card {
    background: var(--fluent-bg-primary);
    border-radius: var(--dw-card-radius);
    box-shadow: var(--dw-card-shadow);
    overflow: hidden;
}

.chart-card.full-width { grid-column: 1 / -1; }

.chart-header {
    padding: 16px 20px;
    background: var(--fluent-gray-10);
    border-bottom: 1px solid var(--fluent-gray-20);
}

.chart-header h4 {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.chart-header h4 i { color: var(--fluent-primary); }
.chart-body { padding: 20px; min-height: 250px; }

/* Calendar & Controls */
.calendar-controls, .comparison-controls, .records-controls {
    display: flex;
    gap: 16px;
    align-items: flex-end;
    flex-wrap: wrap;
    padding: 20px;
}

.control-group { display: flex; flex-direction: column; gap: 6px; }
.control-group label { font-size: 12px; font-weight: 500; color: var(--fluent-text-secondary); }

/* Station Checkbox Grid */
.station-checkboxes { flex: 1; min-width: 300px; }

.checkbox-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 8px;
    max-height: 200px;
    overflow-y: auto;
    padding: 12px;
    background: var(--fluent-bg-primary);
    border: 1px solid var(--fluent-gray-30);
    border-radius: var(--fluent-radius-md);
}

.checkbox-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--fluent-gray-10);
    border-radius: var(--fluent-radius-sm);
    cursor: pointer;
    transition: var(--dw-transition-fast);
    user-select: none;
}

.checkbox-item:hover { background: var(--fluent-gray-20); }
.checkbox-item:has(input:checked) { background: var(--dw-gradient-primary); color: white; }
.checkbox-item input[type="checkbox"] { width: 16px; height: 16px; accent-color: white; cursor: pointer; }
.checkbox-label { font-size: 13px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Calendar Heatmap */
.calendar-legend {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;
    padding: 12px 16px;
    background: var(--fluent-bg-primary);
    border-radius: var(--fluent-radius-md);
}

.legend-label { font-size: 12px; color: var(--fluent-text-secondary); }
.legend-scale { display: flex; gap: 2px; }
.legend-block { width: 20px; height: 14px; border-radius: 2px; }

.calendar-heatmap {
    background: var(--fluent-bg-primary);
    border-radius: var(--dw-card-radius);
    padding: var(--dw-card-padding);
    box-shadow: var(--dw-card-shadow);
    overflow-x: auto;
}

.calendar-month { margin-bottom: 20px; }
.calendar-month-title { font-size: 14px; font-weight: 600; color: var(--fluent-text-primary); margin-bottom: 8px; }
.calendar-days { display: grid; grid-template-columns: repeat(7, 1fr); gap: 3px; }

.calendar-day {
    aspect-ratio: 1;
    border-radius: 3px;
    min-width: 16px;
    cursor: pointer;
    transition: transform 0.1s;
}

.calendar-day:hover { transform: scale(1.3); z-index: 10; }
.calendar-day.empty { background: transparent; cursor: default; }
.calendar-day.empty:hover { transform: none; }

.calendar-tooltip {
    position: fixed;
    background: rgba(0,0,0,0.85);
    color: white;
    padding: 10px 14px;
    border-radius: 6px;
    font-size: 12px;
    pointer-events: none;
    z-index: 1000;
    display: none;
}

/* Comparison View */
.comparison-charts {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 24px;
}

.comparison-table-container {
    background: var(--fluent-bg-primary);
    border-radius: var(--dw-card-radius);
    box-shadow: var(--dw-card-shadow);
    overflow: hidden;
}

.comparison-table { width: 100%; border-collapse: collapse; }
.comparison-table th, .comparison-table td { padding: 14px 16px; text-align: left; border-bottom: 1px solid var(--fluent-gray-20); }
.comparison-table th { background: var(--fluent-gray-10); font-size: 12px; font-weight: 600; text-transform: uppercase; color: var(--fluent-text-secondary); }
.comparison-table td { font-size: 14px; }
.comparison-table tr:hover td { background: var(--fluent-gray-10); }

/* Records View */
.extreme-records {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
}

.extreme-card {
    background: var(--fluent-bg-primary);
    border-radius: var(--dw-card-radius);
    box-shadow: var(--dw-card-shadow);
    padding: var(--dw-card-padding);
    text-align: center;
    border-left: 4px solid;
}

.extreme-card.hot { border-color: var(--dw-temp-high); }
.extreme-card.cold { border-color: var(--dw-temp-low); }
.extreme-card.wet { border-color: #6c5ce7; }
.extreme-card.sun { border-color: #fdcb6e; }
.extreme-card.humid { border-color: #00cec9; }

.extreme-icon {
    width: 48px;
    height: 48px;
    margin: 0 auto 12px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
}

.extreme-card.hot .extreme-icon { background: rgba(216,59,1,0.1); color: var(--dw-temp-high); }
.extreme-card.cold .extreme-icon { background: rgba(0,120,212,0.1); color: var(--dw-temp-low); }
.extreme-card.wet .extreme-icon { background: rgba(108,92,231,0.1); color: #6c5ce7; }
.extreme-card.sun .extreme-icon { background: rgba(253,203,110,0.2); color: #d4a017; }
.extreme-card.humid .extreme-icon { background: rgba(0,206,201,0.1); color: #00cec9; }

.extreme-title { font-size: 12px; text-transform: uppercase; color: var(--fluent-text-secondary); margin-bottom: 8px; }
.extreme-value { font-size: 28px; font-weight: 700; color: var(--fluent-text-primary); }
.extreme-meta { font-size: 12px; color: var(--fluent-text-tertiary); margin-top: 8px; }

/* Responsive */
@media (max-width: 768px) {
    .charts-container, .comparison-charts { grid-template-columns: 1fr; }
    .analytics-controls { flex-direction: column; align-items: stretch; }
    .station-checkboxes { min-width: 100%; }
}
